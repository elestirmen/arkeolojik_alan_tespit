# ============================================================================
# ARKEOLOJIK ALAN TESPIT - YAPILANDIRMA DOSYASI (config.yaml)
# ============================================================================
# Bu dosya, arkeolojik alan tespit sisteminin tÃ¼m davranÄ±ÅŸlarÄ±nÄ± kontrol eder.
# Derin Ã¶ÄŸrenme, klasik gÃ¶rÃ¼ntÃ¼ iÅŸleme ve bunlarÄ±n birleÅŸtirilmesi gibi farklÄ±
# yÃ¶ntemleri kullanarak LiDAR verilerinden potansiyel arkeolojik yapÄ±larÄ± 
# tespit edebilirsiniz.
#
# KULLANIM:
#   1. Bu dosyadaki parametreleri ihtiyacÄ±nÄ±za gÃ¶re dÃ¼zenleyin
#   2. Komut satÄ±rÄ±ndan Ã§alÄ±ÅŸtÄ±rÄ±n: python archaeo_detect.py
#   3. Komut satÄ±rÄ± parametreleri ile istediÄŸiniz ayarÄ± geÃ§ersiz kÄ±labilirsiniz:
#      Ã–rnek: python archaeo_detect.py --th 0.7 --tile 512
#
# NOT: TÃ¼m dosya yollarÄ± proje kÃ¶k dizinine gÃ¶re gÃ¶recelidir.
# Proje dizini: C:\d_surucusu\arkeolojik_alan_tespit
# ============================================================================


# ============================================================================
# BÃ–LÃœM 1: GÄ°RDÄ° / Ã‡IKTI AYARLARI
# ============================================================================
# Bu bÃ¶lÃ¼m, hangi dosyalarÄ±n iÅŸleneceÄŸini ve sonuÃ§larÄ±n nereye kaydedileceÄŸini
# belirler.

# input: Ä°ÅŸlenecek ana GeoTIFF dosyasÄ±nÄ±n yolu
# - GÃ¶reli yol kullanmanÄ±z Ã¶nerilir (proje dizinine gÃ¶re)
# - Dosya Ã§ok bantlÄ± bir GeoTIFF olmalÄ±dÄ±r
# - Ã–nerilen bantlar: R, G, B, DSM (YÃ¼zey Modeli), DTM (Arazi Modeli)
# Ã–rnek: "kesif_alani.tif" veya "veriler/bolge1.tif"
input: "kesif_alani.tif"
#input: "karlik_vadi.tif"

# out_prefix: Ã‡Ä±ktÄ± dosyalarÄ±nÄ±n isim Ã¶n eki
# - null ise: Girdi dosya adÄ±ndan otomatik Ã¼retilir
#   Ã–rneÄŸin "kesif_alani.tif" iÃ§in "kesif_alani" kullanÄ±lÄ±r
# - Ã–zel bir isim belirtebilirsiniz: "sonuc_2025" gibi
# - TÃ¼m Ã§Ä±ktÄ± dosyalarÄ± bu Ã¶n ek ile baÅŸlayacaktÄ±r
# Ã–rnek: null, "sonuc", "ciktilar/analiz1"
out_prefix: null

# bands: KullanÄ±lacak bantlarÄ±n virgÃ¼lle ayrÄ±lmÄ±ÅŸ listesi (1-tabanlÄ± indeksler)
# - Her bant numarasÄ± GeoTIFF dosyasÄ±ndaki bant sÄ±rasÄ±na karÅŸÄ±lÄ±k gelir
# - Tipik dÃ¼zen: "1,2,3,4,5" â†’ R, G, B, DSM, DTM
# - DSM (SayÄ±sal YÃ¼zey Modeli) yoksa sÄ±fÄ±r (0) kullanÄ±n
# - DTM (SayÄ±sal Arazi Modeli) yoksa sÄ±fÄ±r (0) kullanÄ±n
# - En az RGB bantlarÄ± (1,2,3) gereklidir
# UYARI: Bant sayÄ±sÄ± encoder ile uyumlu olmalÄ±dÄ±r!
# Ã–rnekler:
#   - "1,2,3,4,5"    â†’ RGB + DSM + DTM (Ã¶nerilen)
#   - "1,2,3,0,5"    â†’ RGB + DSM yok + DTM
#   - "1,2,3,0,0"    â†’ Sadece RGB (yÃ¼kseklik verisi yok)
bands: "1,2,3,4,5"


# ============================================================================
# BÃ–LÃœM 2: YÃ–NTEM SEÃ‡Ä°MÄ°
# ============================================================================
# Bu sistem Ã¼Ã§ farklÄ± tespit yaklaÅŸÄ±mÄ± sunar. Birini, ikisini veya Ã¼Ã§Ã¼nÃ¼
# birden etkinleÅŸtirebilirsiniz. Her yÃ¶ntem farklÄ± gÃ¼Ã§lÃ¼ yÃ¶nlere sahiptir.

# enable_deep_learning: Derin Ã¶ÄŸrenme tabanlÄ± tespit (U-Net ve SMP kÃ¼tÃ¼phanesi)
# - true: Segmentation Models PyTorch ile U-Net/DeepLab vb. kullanÄ±r
# - false: Derin Ã¶ÄŸrenme atlanÄ±r, daha hÄ±zlÄ± Ã§alÄ±ÅŸÄ±r
# Ã–ZELLÄ°KLER:
#   + EÄŸitilmiÅŸ model varsa Ã§ok yÃ¼ksek doÄŸruluk
#   + KarmaÅŸÄ±k paternleri Ã¶ÄŸrenebilir
#   + Ã–nceden eÄŸitilmiÅŸ ImageNet aÄŸÄ±rlÄ±klarÄ± ile zero-shot Ã§alÄ±ÅŸabilir
#   - GPU olmazsa yavaÅŸ olabilir
#   - Ä°yi bir model gerektirir
# Ã–NERÄ°: EÄŸitilmiÅŸ bir modeliniz varsa true, yoksa false yapÄ±n
enable_deep_learning: true

# enable_classic: Klasik gÃ¶rÃ¼ntÃ¼ iÅŸleme yÃ¶ntemleri (RVT, Hessian, Morfoloji)
# - true: Relief Visualization Toolbox (RVT) ve diÄŸer klasik algoritmalar
# - false: Klasik yÃ¶ntemler atlanÄ±r
# Ã–ZELLÄ°KLER:
#   + Model eÄŸitimi gerektirmez
#   + YÃ¼kseklik verisi (DSM/DTM) ile Ã§ok etkili
#   + HÄ±zlÄ± Ã§alÄ±ÅŸÄ±r
#   + AÃ§Ä±klanabilir sonuÃ§lar verir
#   - KarmaÅŸÄ±k paternlerde derin Ã¶ÄŸrenmeden daha zayÄ±f olabilir
# Ã–NERÄ°: YÃ¼kseklik veriniz varsa (DSM/DTM) mutlaka true yapÄ±n
enable_classic: true

# enable_yolo: YOLO11 nesne tespit/segmentasyon modeli
# - true: YOLO11 ile RGB gÃ¶rÃ¼ntÃ¼lerden nesne tespiti yapÄ±lÄ±r
# - false: YOLO11 atlanÄ±r
# Ã–ZELLÄ°KLER:
#   + RGB gÃ¶rÃ¼ntÃ¼lerden direkt tespit yapar
#   + HÄ±zlÄ± Ã§alÄ±ÅŸÄ±r (Ã¶zellikle GPU ile)
#   + Ã–nceden eÄŸitilmiÅŸ modellerle zero-shot kullanÄ±labilir
#   + Segmentasyon modelleri (yolo11n-seg.pt) piksel seviyesinde maske Ã¼retir
#   + Detection modelleri (yolo11n.pt) bounding box Ã¼retir
#   - Sadece RGB bantlarÄ±nÄ± kullanÄ±r (DSM/DTM gÃ¶rmez)
#   - EÄŸitilmiÅŸ model yoksa genel amaÃ§lÄ± sonuÃ§lar verir
# NOT: YOLO11 segmentasyon modeli (..-seg.pt) kullanmanÄ±z Ã¶nerilir
# Ã–NERÄ°: RGB tabanlÄ± tespit iÃ§in true yapÄ±n, ultralytics kurulumu gerektirir
enable_yolo: true

# enable_fusion: Derin Ã¶ÄŸrenme ve klasik yÃ¶ntemlerin birleÅŸtirilmesi
# - true: Her iki yÃ¶ntemin olasÄ±lÄ±k haritalarÄ± birleÅŸtirilir (alpha ile)
# - false: YÃ¶ntemler ayrÄ± ayrÄ± sonuÃ§ Ã¼retir
# Ã–ZELLÄ°KLER:
#   + Ä°ki yÃ¶ntemin gÃ¼Ã§lÃ¼ yÃ¶nlerini birleÅŸtirir
#   + Genellikle en iyi sonuÃ§larÄ± verir
#   + YanlÄ±ÅŸ pozitifleri azaltÄ±r
#   - Her iki yÃ¶ntem de etkin olmalÄ±dÄ±r (enable_deep_learning ve enable_classic)
# UYARI: Fusion iÃ§in hem DL hem de Classic true olmalÄ±dÄ±r!
# Ã–NERÄ°: MÃ¼mkÃ¼nse true kullanÄ±n, en dengeli sonuÃ§larÄ± verir
enable_fusion: true


# ============================================================================
# BÃ–LÃœM 3: DERÄ°N Ã–ÄRENME MODEL AYARLARI
# ============================================================================
# Derin Ã¶ÄŸrenme yÃ¶ntemi etkinse (enable_deep_learning: true), bu parametreler
# hangi model mimarisinin ve encoder'Ä±n kullanÄ±lacaÄŸÄ±nÄ± belirler.

# arch: Segmentasyon model mimarisi
# - Segmentation Models PyTorch (SMP) kÃ¼tÃ¼phanesinden desteklenen mimari
# SEÃ‡ENEKLER:
#   - "Unet"           â†’ Klasik U-Net (hÄ±zlÄ±, etkili, Ã¶nerilen)
#   - "UnetPlusPlus"   â†’ GeliÅŸtirilmiÅŸ U-Net++
#   - "DeepLabV3Plus"  â†’ DeepLabV3+ (Ã§ok Ã¶lÃ§ekli Ã¶zellikler)
#   - "FPN"            â†’ Feature Pyramid Network
#   - "PSPNet"         â†’ Pyramid Scene Parsing Network
#   - "PAN"            â†’ Pyramid Attention Network
#   - "MAnet"          â†’ Multi-scale Attention Net
#   - "Linknet"        â†’ LinkNet (hafif ve hÄ±zlÄ±)
# Ã–NERÄ°: BaÅŸlangÄ±Ã§ iÃ§in "Unet" kullanÄ±n, hÄ±z/doÄŸruluk dengesi iyidir
arch: "Unet"

# encoder: TEK ENCODER modunda kullanÄ±lacak encoder aÄŸÄ±
# - Ã–nceden eÄŸitilmiÅŸ (ImageNet) bir CNN omurgasÄ±
# - Bu parametre yalnÄ±zca encoders: "single" olduÄŸunda kullanÄ±lÄ±r
# POPÃœLER ENCODER'LAR:
#   - "resnet34"          â†’ Dengeli hÄ±z/doÄŸruluk (Ã¶nerilen baÅŸlangÄ±Ã§)
#   - "resnet50"          â†’ Daha derin, daha doÄŸru ama yavaÅŸ
#   - "efficientnet-b3"   â†’ Ã‡ok verimli, modern
#   - "mobilenet_v2"      â†’ Hafif, hÄ±zlÄ± (dÃ¼ÅŸÃ¼k GPU iÃ§in)
#   - "vgg16"             â†’ Klasik, basit
#   - "densenet121"       â†’ YoÄŸun baÄŸlantÄ±lar
# Ã–NERÄ°: "resnet34" ile baÅŸlayÄ±n, sonra "efficientnet-b3" deneyin
encoder: "resnet34"

# encoders: Ã‡OKLU ENCODER modu
# - "all"  : TÃ¼m desteklenen encoder'larÄ± kullan (ensemble Ã¶ÄŸrenme)
# - "none" : Sadece yukarÄ±daki 'encoder' parametresini kullan
# - CSV liste: VirgÃ¼lle ayrÄ±lmÄ±ÅŸ encoder listesi, Ã¶rn: "resnet34,resnet50,efficientnet-b3"
# Ã‡OKLU ENCODER AVANTAJLARI:
#   + Ensemble (topluluk) Ã¶ÄŸrenme ile daha gÃ¼venilir sonuÃ§lar
#   + FarklÄ± encoder'lar farklÄ± Ã¶zellikleri yakalar
#   + Ã‡eÅŸitlilik sayesinde daha robust tespit
#   - Daha uzun Ã§alÄ±ÅŸma sÃ¼resi
#   - Her encoder iÃ§in ayrÄ± model aÄŸÄ±rlÄ±ÄŸÄ± gerekebilir
# Ã–NERÄ°: Ãœretim iÃ§in "all" veya 2-3 encoder kombinasyonu, test iÃ§in "single"
#encoders: "none"
encoders: "resnet34,resnet50,efficientnet-b3,DenseNet121"


# weights: TEK ENCODER iÃ§in model aÄŸÄ±rlÄ±k dosyasÄ± (.pth)
# - EÄŸitilmiÅŸ model aÄŸÄ±rlÄ±klarÄ±nÄ±zÄ±n dosya yolu
# - null ise: ImageNet aÄŸÄ±rlÄ±klarÄ± kullanÄ±lÄ±r (zero-shot)
# - Ã–rnek: "models/unet_resnet34_5ep.pth"
# NOT: Bu parametre yalnÄ±zca tek encoder modunda (encoders: "single") kullanÄ±lÄ±r
weights: null

# weights_template: Ã‡OKLU ENCODER iÃ§in model aÄŸÄ±rlÄ±k ÅŸablonu
# - {encoder} yer tutucusu her encoder adÄ± ile deÄŸiÅŸtirilir
# - null ise: TÃ¼m encoder'lar iÃ§in ImageNet aÄŸÄ±rlÄ±klarÄ± kullanÄ±lÄ±r
# Ã–RNEK KULLANIM:
#   weights_template: "models/unet_{encoder}_9ch.pth"
#   â†’ resnet34 iÃ§in: "models/unet_resnet34_9ch.pth"
#   â†’ resnet50 iÃ§in: "models/unet_resnet50_9ch.pth"
# NOT: Dosya bulunamazsa o encoder iÃ§in ImageNet aÄŸÄ±rlÄ±klarÄ± kullanÄ±lÄ±r
weights_template: null

# zero_shot_imagenet: ImageNet aÄŸÄ±rlÄ±klarÄ±nÄ± Ã§ok kanala geniÅŸletme
# - true: Ã–zel aÄŸÄ±rlÄ±k yoksa, ImageNet (3 kanal RGB) encoder'Ä± kullan
#         ve aÄŸÄ±rlÄ±klarÄ± Ã§ok kanala (Ã¶rn. 9 kanal) "inflate" ederek geniÅŸlet
# - false: Ã–zel aÄŸÄ±rlÄ±k yoksa rastgele baÅŸlatma kullan
# NASIL Ã‡ALIÅIR:
#   ImageNet encoder'larÄ± 3 kanal (RGB) iÃ§in eÄŸitilmiÅŸtir.
#   Sistem bu aÄŸÄ±rlÄ±klarÄ± tekrarlayarak veya ortalayarak 9 kanala geniÅŸletir.
# AVANTAJLAR:
#   + EÄŸitim verisi olmadan iyi baÅŸlangÄ±Ã§ noktasÄ±
#   + Transfer Ã¶ÄŸrenme etkisi
#   - YÃ¼kseklik kanallarÄ± (DSM/DTM) iÃ§in Ã¶ÄŸrenme gerektirilebilir
# Ã–NERÄ°: Ã–zel modeliniz yoksa true yapÄ±n, genellikle daha iyi sonuÃ§ verir
zero_shot_imagenet: true

# th: Derin Ã¶ÄŸrenme olasÄ±lÄ±k eÅŸiÄŸi
# - OlasÄ±lÄ±k haritasÄ±nÄ± (0-1 arasÄ±) ikili maskeye (0 veya 1) Ã§evirmek iÃ§in
# - DeÄŸer aralÄ±ÄŸÄ±: 0.0 - 1.0
# - YÃ¼ksek deÄŸer: Daha az ama daha kesin tespit (az yanlÄ±ÅŸ pozitif)
# - DÃ¼ÅŸÃ¼k deÄŸer: Daha Ã§ok ama daha belirsiz tespit (fazla yanlÄ±ÅŸ pozitif)
# Ã–NERILEN DEÄERLER:
#   - 0.5  : Dengeli (varsayÄ±lan baÅŸlangÄ±Ã§)
#   - 0.6  : Biraz daha seÃ§ici (daha az yanlÄ±ÅŸ pozitif)
#   - 0.7  : Ã‡ok seÃ§ici (sadece Ã§ok gÃ¼venli tespitler)
#   - 0.4  : Daha liberal (daha fazla aday bÃ¶lge)
# Ã–NERÄ°: 0.5-0.6 arasÄ±nda baÅŸlayÄ±n, sonuÃ§lara gÃ¶re ayarlayÄ±n
th: 0.7


# ============================================================================
# BÃ–LÃœM 4: KLASÄ°K GÃ–RÃœNTÃœ Ä°ÅLEME YÃ–NTEM AYARLARI
# ============================================================================
# Klasik yÃ¶ntem etkinse (enable_classic: true), bu parametreler RVT, Hessian
# ve morfolojik analizlerin nasÄ±l yapÄ±lacaÄŸÄ±nÄ± belirler.

# classic_modes: KullanÄ±lacak klasik algoritmalar
# - "rvtlog"   : Sadece RVT (Relief Visualization Toolbox) yÃ¶ntemleri
#                SVF (Sky-View Factor), Openness vb. kullanÄ±r
# - "hessian"  : Sadece Hessian matris analizi (ridge/valley tespiti)
# - "morph"    : Sadece morfolojik operatÃ¶rler (aÃ§ma/kapatma/gradyan)
# - "combo"    : TÃ¼m yÃ¶ntemleri birleÅŸtirir (Ã–NERÄ°LEN)
# - CSV liste  : VirgÃ¼lle ayrÄ±lmÄ±ÅŸ, Ã¶rn: "rvtlog,hessian"
# HER YÃ–NTEMÄ°N GÃœÃ‡LÃœ YÃ–NLERÄ°:
#   - RVT: Ufak kabartÄ±lar, tÃ¼mÃ¼lÃ¼sler, hÃ¶yÃ¼kler iÃ§in mÃ¼kemmel
#   - Hessian: Ã‡izgisel yapÄ±lar, duvarlar, hendekler iÃ§in ideal
#   - Morph: Yerel dokusal Ã¶zellikler, dÃ¼zensiz ÅŸekiller iÃ§in faydalÄ±
# Ã–NERÄ°: "combo" kullanÄ±n, tÃ¼m yÃ¶ntemlerin gÃ¼Ã§lÃ¼ yÃ¶nlerini birleÅŸtirir
classic_modes: "combo"

# classic_save_intermediate: Her modu ayrÄ± dosya olarak kaydet
# - true: Her algoritma iÃ§in ayrÄ± olasÄ±lÄ±k haritasÄ± Ã¼retir
#   Ã–rnek Ã§Ä±ktÄ±lar: kesif_alani_classic_rvtlog_prob.tif
#                   kesif_alani_classic_hessian_prob.tif
#                   kesif_alani_classic_morph_prob.tif
# - false: Sadece birleÅŸtirilmiÅŸ (combo) sonuÃ§ kaydedilir
# KULLANIM AMACI:
#   + Her yÃ¶ntemin ayrÄ± katkÄ±sÄ±nÄ± gÃ¶rmek iÃ§in yararlÄ±
#   + Hangi yÃ¶ntemin hangi yapÄ±larda daha iyi Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± analiz edebilirsiniz
#   - Daha fazla disk alanÄ± kullanÄ±r
# Ã–NERÄ°: Ä°lk analizlerde true yapÄ±n, sonra false yaparak disk tasarrufu edin
classic_save_intermediate: false

# classic_th: Klasik yÃ¶ntem olasÄ±lÄ±k eÅŸiÄŸi
# - Klasik olasÄ±lÄ±k haritasÄ±nÄ± ikili maskeye Ã§evirmek iÃ§in
# - null: Otsu otomatik eÅŸikleme algoritmasÄ± kullanÄ±lÄ±r (Ã–NERÄ°LEN)
# - 0.0-1.0 arasÄ± deÄŸer: Manuel eÅŸik belirtebilirsiniz
# OTSU HAKKINDA:
#   Otsu algoritmasÄ± histogram analizi yaparak optimal eÅŸiÄŸi otomatik bulur.
#   Genellikle manuel eÅŸikten daha iyi sonuÃ§ verir.
# MANUEL EÅIK NE ZAMAN:
#   - Otsu Ã§ok fazla veya Ã§ok az tespit yapÄ±yorsa
#   - Belirli bir hassasiyet seviyesi istiyorsanÄ±z
# Ã–NERÄ°: Ã–nce null (Otsu) deneyin, gerekirse manuel deÄŸer verin
#classic_th: 0.7
classic_th: null

# ============================================================================
# GELÄ°ÅMÄ°Å KLASÄ°K PARAMETRE AYARLARI
# ============================================================================
# Bu parametreler klasik algoritmalarÄ±n hassasiyetini ince ayar yapar.
# VarsayÄ±lan deÄŸerler Ã§oÄŸu senaryo iÃ§in iyidir, ama Ã¶zel durumlar iÃ§in
# ayarlama yapabilirsiniz.

# sigma_scales: Ã‡ok Ã¶lÃ§ekli Gaussian filtre sigma deÄŸerleri (piksel birimi)
# - FarklÄ± boyutlardaki yapÄ±larÄ± tespit etmek iÃ§in kullanÄ±lÄ±r
# - KÃ¼Ã§Ã¼k sigma: KÃ¼Ã§Ã¼k, detaylÄ± yapÄ±lar (Ã¶rn: kÃ¼Ã§Ã¼k Ã§ukurlar)
# - BÃ¼yÃ¼k sigma: BÃ¼yÃ¼k, geniÅŸ yapÄ±lar (Ã¶rn: bÃ¼yÃ¼k hÃ¶yÃ¼kler)
# AYARLAMA Ä°PUÃ‡LARI:
#   - KÃ¼Ã§Ã¼k yapÄ±lar arÄ±yorsanÄ±z: [0.5, 1.0, 2.0, 4.0]
#   - BÃ¼yÃ¼k yapÄ±lar arÄ±yorsanÄ±z: [2.0, 4.0, 8.0, 16.0]
#   - Hem kÃ¼Ã§Ã¼k hem bÃ¼yÃ¼k: [1.0, 2.0, 4.0, 8.0] (varsayÄ±lan)
# NOT: Daha fazla sigma deÄŸeri = daha yavaÅŸ iÅŸlem ama daha hassas tespit
sigma_scales: [1.0, 2.0, 4.0, 8.0]

# morphology_radii: Morfolojik operatÃ¶rler iÃ§in yapÄ±sal eleman yarÄ±Ã§aplarÄ± (piksel)
# - AÃ§ma (opening) ve kapatma (closing) operasyonlarÄ± iÃ§in disk boyutlarÄ±
# - KÃ¼Ã§Ã¼k yarÄ±Ã§ap: KÃ¼Ã§Ã¼k gÃ¼rÃ¼ltÃ¼leri temizler, kÃ¼Ã§Ã¼k Ã¶zellikleri korur
# - BÃ¼yÃ¼k yarÄ±Ã§ap: BÃ¼yÃ¼k gÃ¼rÃ¼ltÃ¼leri temizler, kÃ¼Ã§Ã¼k Ã¶zellikleri kaybedebilir
# KULLANIM ALANLARI:
#   - 3-5 piksel: Ufak gÃ¼rÃ¼ltÃ¼ temizleme
#   - 9-15 piksel: YapÄ±larÄ±n kontÃ¼rlerini dÃ¼zeltme
#   - 20+ piksel: Ã‡ok geniÅŸ bÃ¶lgeleri yumuÅŸatma
# Ã–NERÄ°: Ã‡eÅŸitlilik saÄŸlamak iÃ§in farklÄ± boyutlar kullanÄ±n
morphology_radii: [3, 5, 9, 15]

# rvt_radii: RVT (Relief Visualization) algoritmalarÄ± iÃ§in arama yarÄ±Ã§aplarÄ± (METRE)
# - Sky-View Factor (SVF) ve Openness hesaplamalarÄ± iÃ§in
# - CoÄŸrafi koordinatlarda metre cinsinden uzaklÄ±ktÄ±r
# NASIL Ã‡ALIÅIR:
#   Her yarÄ±Ã§ap iÃ§in, o yarÄ±Ã§aptaki komÅŸu piksellerin yÃ¼kseklik iliÅŸkisi analiz edilir
# AYARLAMA Ä°PUÃ‡LARI:
#   - KÃ¼Ã§Ã¼k yarÄ±Ã§ap (5-10m): Yerel detaylar, duvar kalÄ±nlÄ±klarÄ±
#   - Orta yarÄ±Ã§ap (20-30m): TÃ¼mÃ¼lÃ¼s tepeleri, yapÄ± kalÄ±ntÄ±larÄ±
#   - BÃ¼yÃ¼k yarÄ±Ã§ap (50-100m): GeniÅŸ hÃ¶yÃ¼kler, bÃ¼yÃ¼k yapÄ±lar
# NOT: Ã‡ok bÃ¼yÃ¼k yarÄ±Ã§ap Ã§ok yavaÅŸ iÅŸlem demektir
# Ã–NERÄ°: Ã‡alÄ±ÅŸma alanÄ±nÄ±zdaki yapÄ± boyutlarÄ±na gÃ¶re ayarlayÄ±n
rvt_radii: [5.0, 10.0, 20.0, 30.0, 50.0]

# local_variance_window: Yerel varyans hesaplama pencere boyutu (piksel)
# - Yerel doku deÄŸiÅŸkenliÄŸini Ã¶lÃ§mek iÃ§in kullanÄ±lÄ±r
# - KÃ¼Ã§Ã¼k pencere: Ã‡ok lokal, ufak detaylarÄ± yakalar
# - BÃ¼yÃ¼k pencere: Daha geniÅŸ, genel paternleri yakalar
# KULLANIM:
#   DÃ¼z arazideki yapÄ±lar yÃ¼ksek varyansa sahiptir, bu onlarÄ± tespit eder
# AYARLAMA:
#   - 5-7 piksel: KÃ¼Ã§Ã¼k yapÄ±lar ve detaylar iÃ§in
#   - 11-15 piksel: Orta boy yapÄ±lar iÃ§in
# Ã–NERÄ°: 7-11 arasÄ± makul bir deÄŸer
local_variance_window: 7

# gaussian_gradient_sigma: Gradyan bÃ¼yÃ¼klÃ¼ÄŸÃ¼ hesaplamak iÃ§in Gaussian yumuÅŸatma
# - Gradyan hesabÄ±ndan Ã¶nce uygulanan Gaussian filtrenin sigma deÄŸeri
# - KÃ¼Ã§Ã¼k sigma: Hassas ama gÃ¼rÃ¼ltÃ¼lÃ¼ gradyanlar
# - BÃ¼yÃ¼k sigma: YumuÅŸak ama daha az detaylÄ± gradyanlar
# KULLANIM:
#   YÃ¼kseklik haritasÄ±ndaki ani deÄŸiÅŸimleri (kenarlarÄ±) tespit eder
# Ã–NERÄ°: 1.0-2.0 arasÄ±, varsayÄ±lan 1.5 genellikle iyidir
gaussian_gradient_sigma: 1.5

# gaussian_lrm_sigma: LRM (Local Relief Model) fallback iÃ§in Gaussian sigma
# - DTM eksikse kullanÄ±lan yedek yÃ¶ntem iÃ§in yumuÅŸatma miktarÄ±
# - LRM: DSM'den genel topoÄŸrafyayÄ± Ã§Ä±kararak yerel kabartÄ±larÄ± gÃ¶sterir
# AYARLAMA:
#   - KÃ¼Ã§Ã¼k sigma (3-5): Ã‡ok lokal kabartÄ±lar
#   - Orta sigma (6-10): Dengeli, bÃ¶lgesel trend Ã§Ä±karma
#   - BÃ¼yÃ¼k sigma (15+): Ã‡ok geniÅŸ Ã¶lÃ§ekli trend Ã§Ä±karma
# NOT: DTM varsa bu parametre kullanÄ±lmaz
# Ã–NERÄ°: 6.0 Ã§oÄŸu durum iÃ§in yeterlidir
gaussian_lrm_sigma: 6.0


# ============================================================================
# BÃ–LÃœM 5: FUSION (BÄ°RLEÅTÄ°RME) AYARLARI
# ============================================================================
# Fusion etkinse (enable_fusion: true), derin Ã¶ÄŸrenme ve klasik yÃ¶ntem
# olasÄ±lÄ±klarÄ±nÄ± birleÅŸtirerek hibrit bir sonuÃ§ Ã¼retir.

# alpha: BirleÅŸtirme aÄŸÄ±rlÄ±k katsayÄ±sÄ±
# - DeÄŸer aralÄ±ÄŸÄ±: 0.0 - 1.0
# - FormÃ¼l: fused = alpha * DL + (1 - alpha) * Classic
# AYARLAMA REHBERÄ°:
#   - alpha = 1.0 : Sadece derin Ã¶ÄŸrenme (klasik yÃ¶ntem gÃ¶z ardÄ± edilir)
#   - alpha = 0.7 : Derin Ã¶ÄŸrenmeye aÄŸÄ±rlÄ±k verilir (%70 DL, %30 klasik)
#   - alpha = 0.5 : EÅŸit aÄŸÄ±rlÄ±k (%50 DL, %50 klasik) - DENGELI
#   - alpha = 0.3 : Klasik yÃ¶nteme aÄŸÄ±rlÄ±k verilir (%30 DL, %70 klasik)
#   - alpha = 0.0 : Sadece klasik yÃ¶ntem (DL gÃ¶z ardÄ± edilir)
# KULLANIM SENARYOLARI:
#   - EÄŸitilmiÅŸ iyi bir modeliniz varsa: 0.7-0.8
#   - Model yok ama yÃ¼kseklik verisi iyiyse: 0.3-0.4
#   - Her ikisi de eÅŸit kalitede: 0.5
# Ã–NERÄ°: 0.5 ile baÅŸlayÄ±n, sonuÃ§lara gÃ¶re ayarlayÄ±n
alpha: 0.7

# fuse_encoders: Ã‡oklu encoder modunda hangi encoder'lar iÃ§in fusion Ã¼retilecek
# - "all"    : TÃ¼m encoder'lar iÃ§in ayrÄ± fusion sonuÃ§larÄ± Ã¼retir
# - "mean"   : TÃ¼m encoder'larÄ±n ortalamasÄ± ile tek bir fusion sonucu
# - CSV liste: Sadece belirtilen encoder'lar iÃ§in fusion
#              Ã–rnek: "resnet34,efficientnet-b3"
# Ã‡IKTI DOSYALARI:
#   "all" kullanÄ±rsanÄ±z her encoder iÃ§in:
#     - kesif_alani_fused_resnet34_prob.tif
#     - kesif_alani_fused_resnet50_prob.tif
#     - kesif_alani_fused_efficientnet-b3_prob.tif
# NOT: Bu parametre yalnÄ±zca Ã§oklu encoder modunda (encoders: "all") geÃ§erlidir
# Ã–NERÄ°: "all" kullanÄ±n, sonra en iyi sonuÃ§ veren encoder'Ä± seÃ§in
fuse_encoders: "all"


# ============================================================================
# BÃ–LÃœM 6: YOLO11 MODEL AYARLARI
# ============================================================================
# YOLO11, Ultralytics tarafÄ±ndan geliÅŸtirilen son nesil nesne tespit ve
# segmentasyon modelidir. RGB gÃ¶rÃ¼ntÃ¼lerden direkt Ã§alÄ±ÅŸÄ±r, DSM/DTM gerektirmez.

# yolo_weights: YOLO11 model aÄŸÄ±rlÄ±k dosyasÄ±
# - null        : VarsayÄ±lan model (yolo11n-seg.pt) otomatik indirilir
# - Dosya yolu  : Ã–zel eÄŸitilmiÅŸ model dosyanÄ±z
# 
# âš ï¸ Ã–NEMLÄ°: KUÅ BAKIÅI (NADIR) GÃ–RÃœNTÃœLER Ä°Ã‡Ä°N
# ============================================================================
# YOLO11'in varsayÄ±lan COCO aÄŸÄ±rlÄ±klarÄ± YATAY perspektiften eÄŸitilmiÅŸtir
# (sokak gÃ¶rÃ¼ntÃ¼leri, ev iÃ§i, vb.). Arkeolojik alan tespitinde kullanÄ±lan
# LiDAR/Ä°HA gÃ¶rÃ¼ntÃ¼leri ise KUÅ BAKIÅI (nadir/vertical) perspektiftedir.
#
# VARSAYILAN MODEL SINIRLAMALARI:
#   âŒ Nesneler farklÄ± gÃ¶rÃ¼nÃ¼r (Ã¼stten bakÄ±ÅŸ vs. yandan bakÄ±ÅŸ)
#   âŒ COCO sÄ±nÄ±flarÄ± (person, car, vb.) kuÅŸ bakÄ±ÅŸÄ±nda farklÄ±
#   âŒ DÃ¼ÅŸÃ¼k performans veya yanlÄ±ÅŸ tespitler beklenir
#
# Ã–NERÄ°LEN Ã‡Ã–ZÃœMLER:
#   1. Ã–ZEL MODEL EÄÄ°TÄ°MÄ° (en iyi seÃ§enek):
#      - Kendi kuÅŸ bakÄ±ÅŸÄ± verilerinizle YOLO11'i fine-tune edin
#      - Ã–rnek: python train_yolo_nadir.py --data nadir_dataset.yaml
#      - EÄŸitilmiÅŸ modeli kullanÄ±n: yolo_weights: "models/yolo11_nadir_best.pt"
#
#   2. HAZIR NADIR MODELLER (varsa):
#      - DroneVision, Aerial Object Detection veri setleriyle eÄŸitilmiÅŸ
#      - Ã–rnek: "yolo11-aerial.pt", "yolo11-drone.pt"
#
#   3. SINIRSIZ KULLANIM (test iÃ§in):
#      - VarsayÄ±lan modeli test amaÃ§lÄ± kullanabilirsiniz
#      - Ama sonuÃ§larÄ±n genel envanter olarak yorumlanmasÄ± gerekir
#      - Arkeolojik yapÄ± tespiti iÃ§in GÃœVENMEYIN!
#
# NOT: KuÅŸ bakÄ±ÅŸÄ± model eÄŸitimi iÃ§in YOLO11_NADIR_TRAINING.md dosyasÄ±na bakÄ±n
# ============================================================================
#
# MODEL SEÃ‡ENEKLERÄ°:
#   
#   YOLOv8 SEGMENTASYON (Ã–NERÄ°LEN - daha olgun):
#     - "yolov8n-seg.pt"   : Nano - HÄ±zlÄ±, hafif
#     - "yolov8s-seg.pt"   : Small - Dengeli â­ BAÅLANGIÃ‡ Ä°Ã‡Ä°N
#     - "yolov8m-seg.pt"   : Medium - YÃ¼ksek doÄŸruluk
#     - "yolov8l-seg.pt"   : Large - Ã‡ok yÃ¼ksek doÄŸruluk
#     - "yolov8x-seg.pt"   : Extra Large - Maksimum doÄŸruluk
#
#   YOLO11 SEGMENTASYON (en yeni):
#     - "yolo11n-seg.pt"   : Nano - HÄ±zlÄ±, hafif
#     - "yolo11s-seg.pt"   : Small - Dengeli
#     - "yolo11m-seg.pt"   : Medium - YÃ¼ksek doÄŸruluk
#     - "yolo11l-seg.pt"   : Large - Ã‡ok yÃ¼ksek doÄŸruluk
#     - "yolo11x-seg.pt"   : Extra Large - Maksimum doÄŸruluk
#
#   TESPÄ°T (bounding box - daha az Ã¶nerilir):
#     - "yolov8n.pt"       : YOLOv8 Nano detection
#     - "yolo11n.pt"       : YOLO11 Nano detection
#
#   Ã–ZEL NADIR MODELLER (kendi eÄŸittiÄŸiniz - EN Ä°YÄ°SÄ°):
#     - "models/yolov8_nadir_visdrone.pt"  : VisDrone ile eÄŸitilmiÅŸ YOLOv8
#     - "models/yolo11_nadir_best.pt"      : Kendi YOLO11 nadir modeliniz
#     - "models/yolov8_archaeological.pt"  : Arkeolojik Ã¶zel YOLOv8
#
# Ã–NERÄ°: YOLOv8 daha olgun, daha fazla topluluk desteÄŸi var!
#        KuÅŸ bakÄ±ÅŸÄ± iÃ§in mutlaka fine-tune yapÄ±n!
yolo_weights: "yolo11s-seg.pt"

# yolo_conf: Tespit gÃ¼ven eÅŸiÄŸi
# - DeÄŸer aralÄ±ÄŸÄ±: 0.0 - 1.0
# - YOLO bu deÄŸerin Ã¼zerindeki tespitleri kabul eder
# AYARLAMA REHBERÄ°:
#   - 0.15-0.20 : Ã‡ok hassas, Ã§ok fazla tespit (yanlÄ±ÅŸ pozitif artar)
#   - 0.25      : Dengeli, varsayÄ±lan deÄŸer
#   - 0.35-0.50 : SeÃ§ici, daha az tespit (yanlÄ±ÅŸ pozitif azalÄ±r)
#   - 0.60+     : Ã‡ok seÃ§ici, sadece Ã§ok net tespitler
# KULLANIM SENARYOLARI:
#   - HiÃ§ tespit kaÃ§Ä±rmak istemiyorsanÄ±z: 0.15-0.20
#   - Dengeli sonuÃ§ istiyorsanÄ±z: 0.25-0.30
#   - Sadece kesin tespitler istiyorsanÄ±z: 0.40-0.50
# Ã–NERÄ°: 0.25 ile baÅŸlayÄ±n, Ã§ok fazla/az tespit varsa ayarlayÄ±n
yolo_conf: 0.20

# yolo_iou: NMS (Non-Maximum Suppression) IoU eÅŸiÄŸi
# - DeÄŸer aralÄ±ÄŸÄ±: 0.0 - 1.0
# - Birbirine Ã§ok yakÄ±n tespitleri birleÅŸtirmek iÃ§in kullanÄ±lÄ±r
# NASÄ±L Ã‡ALIÅIR:
#   Ä°ki tespitin Ã¶rtÃ¼ÅŸme oranÄ± (IoU) bu eÅŸiÄŸi geÃ§erse, gÃ¼veni dÃ¼ÅŸÃ¼k olan elenir
# AYARLAMA:
#   - 0.3-0.4  : Agresif NMS, Ã§ok fazla birleÅŸtirme
#   - 0.45     : Dengeli, varsayÄ±lan
#   - 0.5-0.6  : YumuÅŸak NMS, ayrÄ± tespitleri korur
#   - 0.7+     : Ã‡ok yumuÅŸak, neredeyse tÃ¼m tespitler korunur
# KULLANIM SENARYOLARI:
#   - Ã‡ok yakÄ±n yapÄ±larÄ± ayÄ±rt etmek istiyorsanÄ±z: 0.3-0.4
#   - Normal kullanÄ±m: 0.45
#   - Overlap yapÄ±larÄ± ayrÄ± gÃ¶rmek istiyorsanÄ±z: 0.5-0.6
# Ã–NERÄ°: VarsayÄ±lan 0.45 Ã§oÄŸu durum iÃ§in iyidir
yolo_iou: 0.45

# yolo_tile: YOLO iÃ§in Ã¶zel karo boyutu (piksel)
# - null     : Genel --tile parametresini kullanÄ±r
# - SayÄ±     : YOLO iÃ§in Ã¶zel tile boyutu belirtir
# NE ZAMAN Ã–ZEL TILE:
#   - YOLO daha kÃ¼Ã§Ã¼k tile'larla daha iyi Ã§alÄ±ÅŸabilir (Ã¶rn: 640, 1280)
#   - DL/Classic iÃ§in 1024 kullanÄ±p YOLO iÃ§in 640 kullanabilirsiniz
# AYARLAMA Ä°PUÃ‡LARI:
#   - 640   : HÄ±zlÄ±, kÃ¼Ã§Ã¼k yapÄ±lar iÃ§in iyi
#   - 1280  : Dengeli, orta boy yapÄ±lar iÃ§in
#   - 1920+ : YavaÅŸ ama bÃ¼yÃ¼k yapÄ±larÄ± tek parÃ§a gÃ¶rebilir
# NOT: YOLO'nun kendi imgsz parametresi var, tile ile karÄ±ÅŸtÄ±rmayÄ±n
# Ã–NERÄ°: Ã–nce null deneyin, sorun olursa 640 veya 1280 deneyin
yolo_tile: null

# yolo_imgsz: YOLO model girdi boyutu
# - YOLO modeli her tile'Ä± bu boyuta yeniden Ã¶lÃ§ekler
# - DeÄŸer aralÄ±ÄŸÄ±: 320-1920 (32'nin katlarÄ±)
# MODEL EÄÄ°TÄ°MÄ° Ä°LE Ä°LÄ°ÅKÄ°:
#   Model hangi boyutta eÄŸitildiyse o boyutta en iyi Ã§alÄ±ÅŸÄ±r
# STANDART BOYUTLAR:
#   - 320  : Ã‡ok hÄ±zlÄ±, dÃ¼ÅŸÃ¼k doÄŸruluk
#   - 640  : Dengeli, varsayÄ±lan (Ã§oÄŸu model bu boyutta eÄŸitilir)
#   - 1280 : YavaÅŸ, yÃ¼ksek doÄŸruluk (bÃ¼yÃ¼k yapÄ±lar iÃ§in)
# NOT: BÃ¼yÃ¼k imgsz = daha yavaÅŸ ama daha detaylÄ± tespit
# Ã–NERÄ°: 640 kullanÄ±n, Ã¶zel model farklÄ± boyut gerektiriyorsa deÄŸiÅŸtirin
yolo_imgsz: 640

# yolo_device: YOLO iÃ§in hesaplama cihazÄ±
# - null     : Otomatik (CUDA varsa GPU, yoksa CPU)
# - "0"      : Ä°lk GPU (CUDA:0)
# - "1"      : Ä°kinci GPU (CUDA:1)
# - "cpu"    : CPU'yu zorla kullan
# - "mps"    : Apple Silicon (M1/M2) GPU (MacOS)
# CÄ°HAZ SEÃ‡Ä°MÄ°:
#   GPU varsa mutlaka kullanÄ±n, 10-50x daha hÄ±zlÄ±
# KULLANIM SENARYOLARI:
#   - Tek GPU: null (otomatik)
#   - Ã‡oklu GPU sistemi: "0" veya "1"
#   - GPU yok veya sorunlu: "cpu"
#   - MacOS M1/M2: "mps"
# Ã–NERÄ°: null bÄ±rakÄ±n, otomatik en iyisini seÃ§er
yolo_device: null

# ============================================================================
# ğŸ†• YOLO11 ETÄ°KETLÄ° TESPÄ°TLER (LABELS)
# ============================================================================
# YOLO11 etkinse, sistem otomatik olarak tespit edilen TÃœM nesneleri
# etiketli bir GeoPackage dosyasÄ±na kaydeder:
#   - kesif_alani_yolo11_th0.25_tile1024_minarea80_labels.gpkg
#
# Bu dosya ÅŸunlarÄ± iÃ§erir:
#   â€¢ SÄ±nÄ±f etiketleri (person, car, tree, building, vb. - 80 COCO sÄ±nÄ±fÄ±)
#   â€¢ GÃ¼ven skorlarÄ± (confidence)
#   â€¢ Alan bilgileri (area_m2)
#   â€¢ CoÄŸrafi koordinatlar (center_x, center_y)
#   â€¢ Poligon veya bounding box geometrileri
#
# KULLANIM ALANLARI:
#   ğŸŒ³ AÄŸaÃ§ envanteri
#   ğŸ—ï¸ Bina tespiti
#   ğŸš— AraÃ§ sayÄ±mÄ±
#   ğŸ‘¥ Ä°nsan aktivitesi analizi
#   ğŸ“Š Genel arazi kullanÄ±m haritasÄ±
#
# QGIS'TE GÃ–RÃœNTÃœLEME:
#   1. Layer â†’ Add Vector Layer â†’ labels.gpkg
#   2. Symbology â†’ Categorized â†’ class_name
#   3. Her sÄ±nÄ±f farklÄ± renkte gÃ¶rÃ¼nÃ¼r
#
# NOT: Bu Ã¶zellik otomatik aktiftir, kapatÄ±lamaz.


# ============================================================================
# BÃ–LÃœM 7: KARO (TILE) Ä°ÅLEME AYARLARI
# ============================================================================
# BÃ¼yÃ¼k gÃ¶rÃ¼ntÃ¼ler kÃ¼Ã§Ã¼k karolara (tiles) bÃ¶lÃ¼nerek iÅŸlenir. Bu bellek
# verimliliÄŸi saÄŸlar ve GPU kullanÄ±mÄ±nÄ± optimize eder.

# tile: Karo boyutu (piksel x piksel)
# - Her karo bu boyutta kare olarak iÅŸlenir
# - KÃ¼Ã§Ã¼k karo: Daha az bellek kullanÄ±r ama daha yavaÅŸ (Ã§ok karo)
# - BÃ¼yÃ¼k karo: Daha hÄ±zlÄ± ama daha fazla bellek gerektirir
# Ã–NERILEN DEÄERLER:
#   - GPU'nuz yoksa veya GPU belleÄŸi az (<4GB): 512
#   - Orta GPU (6-8GB): 1024 (varsayÄ±lan)
#   - GÃ¼Ã§lÃ¼ GPU (12GB+): 2048 veya 4096
# DÄ°KKAT: Ã‡ok bÃ¼yÃ¼k karo GPU belleÄŸini aÅŸabilir (Out of Memory hatasÄ±)
# Ã–NERÄ°: 1024 iyi bir baÅŸlangÄ±Ã§ noktasÄ±dÄ±r
tile: 1024

# overlap: Karolar arasÄ± bindirme miktarÄ± (piksel)
# - KomÅŸu karolar arasÄ±nda Ã¶rtÃ¼ÅŸen bÃ¶lge boyutu
# - AmaÃ§: Karo sÄ±nÄ±rlarÄ±nda gÃ¶rÃ¼ntÃ¼ bozulmasÄ±nÄ± (artifacts) Ã¶nlemek
# AÃ‡IKLAMA:
#   KarolarÄ±n kenarlarÄ±nda model tahmini daha az gÃ¼venilir olabilir.
#   Bindirme ile bu kenar bÃ¶lgeleri birden fazla kez iÅŸlenir ve
#   sonuÃ§lar birleÅŸtirilir (blending).
# AYARLAMA:
#   - KÃ¼Ã§Ã¼k overlap (64-128): HÄ±zlÄ± ama kenar artefaktlarÄ± olabilir
#   - Orta overlap (256): Dengeli, Ã¶nerilen (tile boyutunun ~%25'i)
#   - BÃ¼yÃ¼k overlap (512+): En iyi kalite ama Ã§ok yavaÅŸ
# Ã–NERÄ°: Tile boyutunun 1/4'Ã¼ kadar overlap kullanÄ±n (Ã¶rn: tile=1024, overlap=256)
overlap: 512

# feather: Karo kenarlarÄ±nda kosinÃ¼s yumuÅŸatma (feathering)
# - true: KarolarÄ±n kenarlarÄ±na doÄŸru tahminleri yumuÅŸak geÃ§iÅŸ ile karÄ±ÅŸtÄ±rÄ±r
# - false: KarolarÄ± doÄŸrudan birleÅŸtirir (keskin geÃ§iÅŸler olabilir)
# NASIL Ã‡ALIÅIR:
#   Bindirme bÃ¶lgesinde kosinÃ¼s fonksiyonu kullanarak aÄŸÄ±rlÄ±klÄ± karÄ±ÅŸtÄ±rma
#   yapar. Kenarlar yumuÅŸak ve gÃ¶rÃ¼nmez hale gelir.
# AVANTAJLAR:
#   + Karo sÄ±nÄ±rlarÄ±nda dikiÅŸ izleri (seam) olmaz
#   + Daha homojen sonuÃ§lar
#   - Ã‡ok hafif bir performans maliyeti (genellikle ihmal edilebilir)
# Ã–NERÄ°: Neredeyse her zaman true kullanÄ±n
feather: true


# ============================================================================
# BÃ–LÃœM 8: NORMALÄ°ZASYON AYARLARI
# ============================================================================
# Normalizasyon, farklÄ± bantlarÄ±n deÄŸer aralÄ±klarÄ±nÄ± standartlaÅŸtÄ±rÄ±r.
# Bu, sinir aÄŸlarÄ±nÄ±n daha iyi Ã¶ÄŸrenmesini saÄŸlar.

# global_norm: Global (tÃ¼m gÃ¶rÃ¼ntÃ¼) normalizasyon
# - true: TÃ¼m gÃ¶rÃ¼ntÃ¼den Ã¶rneklenmiÅŸ karolara gÃ¶re normalizasyon parametreleri hesaplanÄ±r
# - false: Her karo kendi iÃ§inde normalize edilir (lokal normalizasyon)
# FARK:
#   Global: TÃ¼m karolar tutarlÄ± ÅŸekilde normalleÅŸir, bÃ¶lgeler arasÄ± karÅŸÄ±laÅŸtÄ±rÄ±labilir
#   Lokal: Her karo baÄŸÄ±msÄ±z, lokal kontrast artÄ±rÄ±lÄ±r ama bÃ¶lgeler arasÄ± tutarsÄ±zlÄ±k olabilir
# AVANTAJLAR (global_norm: true):
#   + TÃ¼m gÃ¶rÃ¼ntÃ¼ Ã¼zerinde tutarlÄ± Ã¶lÃ§ekleme
#   + FarklÄ± bÃ¶lgelerde benzer yapÄ±lar benzer deÄŸerlere sahip olur
#   - BazÄ± karolarda kontrast dÃ¼ÅŸÃ¼k olabilir
# Ã–NERÄ°: Ã‡oÄŸu durumda true kullanÄ±n, tutarlÄ±lÄ±k Ã¶nemlidir
global_norm: true

# norm_sample_tiles: Global normalizasyon iÃ§in Ã¶rneklenen karo sayÄ±sÄ±
# - Global norm etkinse, istatistikler (persentiller) bu kadar karodan hesaplanÄ±r
# - KÃ¼Ã§Ã¼k sayÄ±: HÄ±zlÄ± ama istatistikler temsili olmayabilir
# - BÃ¼yÃ¼k sayÄ±: Daha iyi temsil ama hesaplama maliyeti artar
# AYARLAMA:
#   - KÃ¼Ã§Ã¼k gÃ¶rÃ¼ntÃ¼ (<50 karo): 16-32
#   - Orta gÃ¶rÃ¼ntÃ¼ (50-200 karo): 32-64 (varsayÄ±lan)
#   - BÃ¼yÃ¼k gÃ¶rÃ¼ntÃ¼ (200+ karo): 64-128
# Ã–NERÄ°: 32 Ã§oÄŸu durumda yeterlidir
norm_sample_tiles: 32

# percentile_low: Alt persentil (normalizasyon alt sÄ±nÄ±rÄ±)
# - Bu persentil deÄŸerinin altÄ±ndaki pikseller kÄ±rpÄ±lÄ±r (clipping)
# - AmaÃ§: AÅŸÄ±rÄ± dÃ¼ÅŸÃ¼k deÄŸerlerin (outliers) normalizasyonu bozmasÄ±nÄ± engeller
# AYARLAMA:
#   - 1.0-2.0: Daha sÄ±kÄ± kÄ±rpma, aÅŸÄ±rÄ± deÄŸerleri agresif temizler
#   - 2.0-5.0: Normal, dengelidir
#   - 5.0+: Ã‡ok yumuÅŸak, aÅŸÄ±rÄ± deÄŸerlere mÃ¼samahakÃ¢r
# Ã–NERÄ°: 2.0 iyi bir varsayÄ±landÄ±r
percentile_low: 2.0

# percentile_high: Ãœst persentil (normalizasyon Ã¼st sÄ±nÄ±rÄ±)
# - Bu persentil deÄŸerinin Ã¼stÃ¼ndeki pikseller kÄ±rpÄ±lÄ±r
# - AmaÃ§: AÅŸÄ±rÄ± yÃ¼ksek deÄŸerlerin normalizasyonu bozmasÄ±nÄ± engeller
# AYARLAMA:
#   - 95.0-98.0: Daha sÄ±kÄ± kÄ±rpma
#   - 98.0-99.5: Normal, dengelidir
#   - 99.5+: Ã‡ok yumuÅŸak
# Ã–NERÄ°: 98.0 genellikle iyidir
percentile_high: 98.0


# ============================================================================
# BÃ–LÃœM 9: MASKELEME AYARLARI
# ============================================================================
# BazÄ± alanlar (Ã¶rn: aÄŸaÃ§lar, binalar) tespitten otomatik olarak hariÃ§ tutulabilir.

# mask_talls: YÃ¼ksek yapÄ±larÄ± maskeleme eÅŸiÄŸi (nDSM metre cinsinden)
# - nDSM = DSM - DTM (normalize edilmiÅŸ sayÄ±sal yÃ¼zey modeli)
# - nDSM > bu deÄŸer olan pikseller maskelenir (gÃ¶z ardÄ± edilir)
# - null: Maskeleme kapalÄ±
# KULLANIM:
#   AÄŸaÃ§lar, binalar gibi yÃ¼ksek objeler arkeolojik yapÄ± deÄŸildir.
#   Bu parametreyi ayarlayarak onlarÄ± otomatik eliyebilirsiniz.
# AYARLAMA:
#   - 1.0-1.5m: DÃ¼ÅŸÃ¼k bitki Ã¶rtÃ¼sÃ¼, kÃ¼Ã§Ã¼k Ã§alÄ±lar
#   - 2.0-2.5m: Orta boy aÄŸaÃ§lar, yÃ¼ksek Ã§alÄ±lar (varsayÄ±lan)
#   - 3.0-5.0m: Sadece Ã§ok yÃ¼ksek aÄŸaÃ§lar ve binalar
# UYARI: Ã‡ok dÃ¼ÅŸÃ¼k deÄŸer gerÃ§ek arkeolojik yapÄ±larÄ± da maskeler
# Ã–NERÄ°: 2.5m iyi bir baÅŸlangÄ±Ã§, alanÄ±nÄ±za gÃ¶re ayarlayÄ±n
mask_talls: 2.5
rgb_only: false               # true yaparsan SVF/Openness/LRM/Slope/nDSM kanallari sifirlanir, model efektif olarak sadece RGB kullanir


# ============================================================================
# BÃ–LÃœM 10: VEKTÃ–RLEÅTIRME AYARLARI
# ============================================================================
# Raster (piksel) sonuÃ§larÄ±nÄ± vektÃ¶r (poligon) formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rme.
# GIS yazÄ±lÄ±mlarÄ±nda (QGIS, ArcGIS) kullanÄ±m iÃ§in yararlÄ±dÄ±r.

# vectorize: VektÃ¶rleÅŸtirme etkin mi?
# - true: Maskeleri poligonlara Ã§evirir ve GeoPackage (.gpkg) dosyasÄ± Ã¼retir
# - false: Sadece raster (GeoTIFF) Ã§Ä±ktÄ±larÄ± Ã¼retilir
# Ã‡IKTI DOSYASI:
#   - kesif_alani_mask.gpkg (veya benzeri)
#   - QGIS, ArcGIS gibi yazÄ±lÄ±mlarda doÄŸrudan aÃ§Ä±labilir
# AVANTAJLAR:
#   + Poligonlar Ã¼zerinde alan hesaplama, filtreleme yapabilirsiniz
#   + VektÃ¶r haritalarla birleÅŸtirme kolay
#   + Daha kÃ¼Ã§Ã¼k dosya boyutu (bÃ¼yÃ¼k raster dosyalara gÃ¶re)
# Ã–NERÄ°: SonuÃ§larÄ± GIS'te analiz edecekseniz true yapÄ±n
vectorize: true

# min_area: Minimum poligon alanÄ± (metrekare)
# - Bu alandan kÃ¼Ã§Ã¼k poligonlar Ã§Ä±ktÄ±dan filtrelenir
# - AmaÃ§: Ã‡ok kÃ¼Ã§Ã¼k, anlamsÄ±z tespit bÃ¶lgelerini temizlemek
# AYARLAMA:
#   - 10-50 mÂ²: Ã‡ok kÃ¼Ã§Ã¼k yapÄ±lar (duvar parÃ§alarÄ±)
#   - 80-100 mÂ²: Orta boy yapÄ±lar (kÃ¼Ã§Ã¼k tÃ¼mÃ¼lÃ¼sler, duvar kalÄ±ntÄ±larÄ±)
#   - 200+ mÂ²: Sadece bÃ¼yÃ¼k yapÄ±lar (hÃ¶yÃ¼kler, geniÅŸ kalÄ±ntÄ±lar)
# KULLANIM SENARYOLARI:
#   - GÃ¼rÃ¼ltÃ¼yÃ¼ azaltmak iÃ§in: YÃ¼ksek deÄŸer (100-200 mÂ²)
#   - TÃ¼m adaylarÄ± gÃ¶rmek iÃ§in: DÃ¼ÅŸÃ¼k deÄŸer (20-50 mÂ²)
# Ã–NERÄ°: AradÄ±ÄŸÄ±nÄ±z yapÄ± boyutuna gÃ¶re ayarlayÄ±n, 80 mÂ² dengeli bir deÄŸer
min_area: 50.0

# simplify: Poligon basitleÅŸtirme toleransÄ± (metre)
# - Douglas-Peucker algoritmasÄ± ile poligon kÃ¶ÅŸe sayÄ±sÄ±nÄ± azaltÄ±r
# - null: BasitleÅŸtirme kapalÄ± (orijinal detay korunur)
# - SayÄ± deÄŸer: Bu mesafeden daha az sapma tolerans edilir
# NASIL Ã‡ALIÅIR:
#   Poligon kÃ¶ÅŸelerini birleÅŸtirerek daha basit, daha az kÃ¶ÅŸeli ÅŸekiller Ã¼retir.
#   KÃ¼Ã§Ã¼k girinti-Ã§Ä±kÄ±ntÄ±lar yumuÅŸatÄ±lÄ±r.
# AYARLAMA:
#   - 0.5-1.0m: Hafif basitleÅŸtirme (detay korunur)
#   - 2.0-5.0m: Orta basitleÅŸtirme (daha yumuÅŸak hatlar)
#   - 10.0m+: Agresif basitleÅŸtirme (Ã§ok basit ÅŸekiller)
# AVANTAJLAR:
#   + Daha kÃ¼Ã§Ã¼k dosya boyutu
#   + GIS'te daha hÄ±zlÄ± render ve sorgu
#   + Daha temiz gÃ¶rÃ¼nÃ¼m
#   - BazÄ± detaylar kaybolabilir
# Ã–NERÄ°: Ä°lk Ã§alÄ±ÅŸtÄ±rmada null (kapalÄ±), sonra gerekirse 2.0-3.0m deneyin
simplify: null
vector_opening_size: 3         # VektÃ¶rleÅŸtirmede morfolojik aÃ§ma Ã§ekirdeÄŸi (piksel)
label_connectivity: 8          # BileÅŸen etiketlemede baÄŸlanÄ±rlÄ±k (4 veya 8)


# ============================================================================
# BÃ–LÃœM 11: PERFORMANS AYARLARI
# ============================================================================
# Hesaplama hÄ±zÄ± ve bellek kullanÄ±mÄ±nÄ± optimize etme.

# half: YarÄ± hassasiyetli (float16) hesaplama
# - true: GPU varsa mixed precision (FP16) kullanÄ±r
# - false: Tam hassasiyetli (FP32) hesaplama
# AVANTAJLAR (half: true):
#   + 2x daha hÄ±zlÄ± hesaplama (GPU'da)
#   + 2x daha az GPU belleÄŸi kullanÄ±mÄ±
#   + Daha bÃ¼yÃ¼k karolar veya batch size kullanabilirsiniz
#   - Ã‡ok hafif hassasiyet kaybÄ± (genellikle ihmal edilebilir)
# UYARI:
#   - Sadece GPU (CUDA) ile Ã§alÄ±ÅŸÄ±r
#   - Eski GPU'larda desteklenmeyebilir (Pascal Ã¶ncesi)
# Ã–NERÄ°: GPU varsa ve bellek sÄ±kÄ±ntÄ±sÄ± yaÅŸÄ±yorsanÄ±z true yapÄ±n
half: false  # CUDA yoksa otomatik float32'ye dÃ¼ÅŸer; CUDA varsa performans iÃ§in Ã¶nerilir

# seed: Rastgelelik tohumu (reproducibility iÃ§in)
# - TÃ¼m rastgele iÅŸlemler bu tohum ile baÅŸlatÄ±lÄ±r
# - AynÄ± tohum = aynÄ± sonuÃ§lar (tekrarlanabilirlik)
# - FarklÄ± tohum = farklÄ± sonuÃ§lar (varyasyon testi iÃ§in)
# KULLANIM:
#   Bilimsel Ã§alÄ±ÅŸmalarda sonuÃ§larÄ±n tekrarlanabilir olmasÄ± Ã¶nemlidir.
#   AynÄ± seed her zaman aynÄ± sonucu verir.
# Ã–NERÄ°: VarsayÄ±lan 42'yi kullanÄ±n veya istediÄŸiniz bir sayÄ± verin
seed: 42

# verbose: Log (gÃ¼nlÃ¼k) detay seviyesi
# - 0: WARNING (sadece uyarÄ±lar ve hatalar)
# - 1: INFO (genel ilerleme bilgileri) - Ã–NERÄ°LEN
# - 2: DEBUG (ayrÄ±ntÄ±lÄ± teknik bilgiler)
# KULLANIM SENARYOLARI:
#   - 0: Sessiz mod, sadece Ã¶nemli mesajlar (otomasyon iÃ§in)
#   - 1: Normal kullanÄ±m, ilerlemeyi takip etmek iÃ§in
#   - 2: Hata ayÄ±klama, sorun giderme iÃ§in
# Ã–NERÄ°: Normal kullanÄ±mda 1, sorun varsa 2 yapÄ±n
verbose: 1


# ============================================================================
# BÃ–LÃœM 12: Ã–NBELLEK (CACHE) YÃ–NETÄ°MÄ°
# ============================================================================
# RVT tÃ¼revleri (SVF, openness vb.) hesaplamasÄ± zaman alÄ±r. Bu hesaplamalarÄ±
# Ã¶nbelleÄŸe alarak tekrar kullanabilir, iÅŸlem sÃ¼resini bÃ¼yÃ¼k Ã¶lÃ§Ã¼de azaltabilirsiniz.

# cache_derivatives: RVT tÃ¼revlerini Ã¶nbelleÄŸe al
# - true: RVT hesaplamalarÄ± .npz dosyasÄ± olarak kaydedilir ve tekrar kullanÄ±lÄ±r
# - false: Her Ã§alÄ±ÅŸtÄ±rmada RVT sÄ±fÄ±rdan hesaplanÄ±r
# NASIL Ã‡ALIÅIR:
#   Ä°lk Ã§alÄ±ÅŸtÄ±rma: RVT hesaplanÄ±r ve diske kaydedilir (~30 saniye)
#   Sonraki Ã§alÄ±ÅŸtÄ±rmalar: Diskten okunur (~2 saniye)
# Ã–NBELLEK DOSYASI:
#   - kesif_alani.derivatives.npz (girdi dosyasÄ± adÄ± + .derivatives.npz)
#   - Boyut: Genellikle 10-50 MB
# AVANTAJLAR:
#   + 10-20x daha hÄ±zlÄ± iÅŸlem (Ã¶nbellek varsa)
#   + Parametreler deÄŸiÅŸince sadece model tekrar Ã§alÄ±ÅŸÄ±r, RVT hesaplanmaz
#   - Disk alanÄ± kullanÄ±r
# Ã–NERÄ°: Neredeyse her zaman true kullanÄ±n, bÃ¼yÃ¼k zaman kazancÄ± saÄŸlar
cache_derivatives: true

# cache_dir: Ã–nbellek dosyalarÄ±nÄ±n kaydedileceÄŸi dizin
# - null: Girdi dosyasÄ±nÄ±n bulunduÄŸu dizine kaydet (varsayÄ±lan)
# - Yol belirtin: Ã–zel bir Ã¶nbellek dizini kullanÄ±n
# Ã–RNEK:
#   - null: kesif_alani.derivatives.npz, kesif_alani.tif'in yanÄ±nda
#   - "cache/": cache/kesif_alani.derivatives.npz
#   - "C:/temp/": C:/temp/kesif_alani.derivatives.npz
# KULLANIM:
#   Birden fazla proje iÃ§in merkezi bir Ã¶nbellek dizini istiyorsanÄ±z kullanÄ±n
# Ã–NERÄ°: VarsayÄ±lan null kullanÄ±n, daha basit
cache_dir: "cache/"

# recalculate_cache: Mevcut Ã¶nbelleÄŸi yok say ve yeniden hesapla
# - true: Ã–nbellek dosyasÄ± varsa bile RVT'yi sÄ±fÄ±rdan hesapla
# - false: Ã–nbellek varsa onu kullan, yoksa hesapla (normal davranÄ±ÅŸ)
# NE ZAMAN KULLANILIR:
#   - Girdi dosyasÄ± deÄŸiÅŸtiyse ama adÄ± aynÄ±ysa
#   - RVT parametreleri (rvt_radii vb.) deÄŸiÅŸtirdiyseniz
#   - Ã–nbelleÄŸin bozuk olduÄŸundan ÅŸÃ¼pheleniyorsanÄ±z
# UYARI: true yaparsanÄ±z Ã¶nbellekleme avantajÄ± kaybolur (her seferinde yavaÅŸ)
# Ã–NERÄ°: Normal kullanÄ±mda false, girdi deÄŸiÅŸtiyse true yapÄ±n
recalculate_cache: false


# ============================================================================
# BÃ–LÃœM 13: Ã‡IKTI DOSYALARI (BÄ°LGÄ°LENDÄ°RME)
# ============================================================================
# Sistem, etkinleÅŸtirdiÄŸiniz yÃ¶ntemlere gÃ¶re Ã§eÅŸitli Ã§Ä±ktÄ± dosyalarÄ± Ã¼retir.
# AÅŸaÄŸÄ±da hangi dosyalarÄ±n ne zaman Ã¼retileceÄŸi aÃ§Ä±klanmÄ±ÅŸtÄ±r.

# Ã‡EKÄ°RDEK Ã‡IKTILAR:
# Bu dosyalar hangi yÃ¶ntemin etkin olduÄŸuna baÄŸlÄ± olarak Ã¼retilir.

# 1) DERÄ°N Ã–ÄRENME ETKÄ°NSE (enable_deep_learning: true):
#    TEK ENCODER modu (encoders: "single"):
#      - <prefix>_prob.tif              â†’ DL olasÄ±lÄ±k haritasÄ± (0-1 arasÄ±, sÃ¼rekli)
#      - <prefix>_mask.tif              â†’ DL ikili maske (0 veya 1, eÅŸik uygulanmÄ±ÅŸ)
#      - <prefix>_mask.gpkg (opsiyonel) â†’ VektÃ¶r poligonlar (vectorize: true ise)
#
#    Ã‡OKLU ENCODER modu (encoders: "all" veya CSV liste):
#      Her encoder iÃ§in ayrÄ± dosyalar:
#      - <prefix>_<encoder>_prob.tif    â†’ Ã–rn: kesif_alani_resnet34_prob.tif
#      - <prefix>_<encoder>_mask.tif    â†’ Ã–rn: kesif_alani_resnet50_mask.tif
#      - <prefix>_<encoder>_mask.gpkg
#
# 2) KLASÄ°K YÃ–NTEM ETKÄ°NSE (enable_classic: true):
#      - <prefix>_classic_prob.tif      â†’ Klasik yÃ¶ntem olasÄ±lÄ±k haritasÄ±
#      - <prefix>_classic_mask.tif      â†’ Klasik yÃ¶ntem ikili maske
#      - <prefix>_classic_mask.gpkg
#
#    ARA DOSYALAR (classic_save_intermediate: true ise):
#      - <prefix>_classic_rvtlog_prob.tif    â†’ Sadece RVT yÃ¶ntemi sonucu
#      - <prefix>_classic_hessian_prob.tif   â†’ Sadece Hessian yÃ¶ntemi sonucu
#      - <prefix>_classic_morph_prob.tif     â†’ Sadece Morfoloji yÃ¶ntemi sonucu
#      Her biri iÃ§in mask ve gpkg versiyonlarÄ± da Ã¼retilebilir
#
# 3) FUSION ETKÄ°NSE (enable_fusion: true):
#    DL ve Classic yÃ¶ntemlerinin birleÅŸimi
#
#    TEK ENCODER + FUSION:
#      - <prefix>_fused_<encoder>_prob.tif   â†’ Ã–rn: kesif_alani_fused_resnet34_prob.tif
#      - <prefix>_fused_<encoder>_mask.tif
#      - <prefix>_fused_<encoder>_mask.gpkg
#
#    Ã‡OKLU ENCODER + FUSION (fuse_encoders: "all"):
#      Her encoder iÃ§in ayrÄ± fusion sonuÃ§larÄ±:
#      - <prefix>_fused_resnet34_prob.tif
#      - <prefix>_fused_resnet50_prob.tif
#      - <prefix>_fused_efficientnet-b3_prob.tif
#      ve ilgili mask + gpkg dosyalarÄ±
#
# Ã–NBELLEK DOSYALARI:
# (cache_derivatives: true ise)
#      - <prefix>.derivatives.npz       â†’ RVT hesaplamalarÄ± Ã¶nbelleÄŸi
#                                           Ã–rn: kesif_alani.derivatives.npz
#
# DOSYA ADLARI:
# - <prefix>: out_prefix parametresi (null ise girdi dosya adÄ± kullanÄ±lÄ±r)
# - <encoder>: resnet34, resnet50, efficientnet-b3 vb.
# - TÃ¼m GeoTIFF (.tif) dosyalarÄ± coÄŸrafi koordinat sistemini korur
# - GeoPackage (.gpkg) dosyalarÄ± vektÃ¶r formatÄ±nda poligonlar iÃ§erir

# Ã–NERÄ°:
# Ä°lk Ã§alÄ±ÅŸtÄ±rmada tÃ¼m yÃ¶ntemleri etkinleÅŸtirin (DL, Classic, Fusion: true)
# ve sonuÃ§larÄ± karÅŸÄ±laÅŸtÄ±rÄ±n. En iyi sonucu veren yÃ¶ntemi belirleyip
# o yÃ¶nteme odaklanabilirsiniz.
#
# Ã–RNEK SENARYO:
# EÄŸitilmiÅŸ model yoksa:
#   enable_deep_learning: false
#   enable_classic: true
#   enable_fusion: false
#
# EÄŸitilmiÅŸ model var ama yÃ¼kseklik verisi de Ã§ok Ã¶nemliyse:
#   enable_deep_learning: true
#   enable_classic: true
#   enable_fusion: true
#   alpha: 0.6  (DL'ye biraz daha aÄŸÄ±rlÄ±k)
#
# Sadece hÄ±zlÄ± bir test iÃ§in:
#   enable_deep_learning: true
#   encoders: "single"
#   encoder: "resnet34"
#   enable_classic: false
#   tile: 512  (daha hÄ±zlÄ±)

# ============================================================================
# SON NOTLAR VE Ä°PUÃ‡LARI
# ============================================================================
# 1. Ä°LK KULLANIM:
#    - VarsayÄ±lan ayarlarla baÅŸlayÄ±n
#    - SonuÃ§larÄ± gÃ¶rsel olarak inceleyin (QGIS'te)
#    - Ã‡ok fazla veya Ã§ok az tespit varsa eÅŸik (th, classic_th) ayarlayÄ±n
#
# 2. PERFORMANS OPTÄ°MÄ°ZASYONU:
#    - GPU varsa: half: true, tile: 2048
#    - GPU yoksa: tile: 512, enable_deep_learning: false
#    - Ã–nbellek kullanÄ±n: cache_derivatives: true
#
# 3. SONUÃ‡ KALÄ°TESÄ°:
#    - Fusion genellikle en iyi sonuÃ§larÄ± verir
#    - Ã‡oklu encoder ensemble yaklaÅŸÄ±mÄ± daha gÃ¼venilirdir
#    - min_area ile kÃ¼Ã§Ã¼k gÃ¼rÃ¼ltÃ¼leri filtreleyin
#
# 4. SORUN GÄ°DERME:
#    - Hata alÄ±rsanÄ±z: verbose: 2 yapÄ±n, detaylÄ± log gÃ¶rÃ¼n
#    - Bellek hatasÄ±: tile boyutunu kÃ¼Ã§Ã¼ltÃ¼n (512)
#    - Ã‡ok yavaÅŸ: cache kullanÄ±n, tile bÃ¼yÃ¼tÃ¼n, tek encoder kullanÄ±n
#
# 5. DAHA FAZLA BÄ°LGÄ°:
#    - archaeo_detect.py dosyasÄ±ndaki dokÃ¼mantasyonu okuyun
#    - Komut satÄ±rÄ± yardÄ±mÄ±: python archaeo_detect.py --help
#    - GitHub/Proje dÃ¶kÃ¼mantasyonuna baÅŸvurun
#
# Ä°yi tespit Ã§alÄ±ÅŸmalarÄ±!
# ============================================================================
